<div class="center">
  <mat-card class="register-card">
    <mat-card-title>Registration</mat-card-title>
    <mat-card-content>
      <form
        class="register-form"
        [formGroup]="registerForm"
        (ngSubmit)="register()"
      >
        <mat-form-field>
          <mat-label>First name</mat-label>
          <input
            matInput
            type="text"
            placeholder="First name"
            formControlName="firstName"
            maxlength="45"
            required
          />
          @if (this.registerForm.get('firstName')?.hasError('required')) {
          <mat-error>Field is required!!</mat-error>
          } @if (this.registerForm.get('firstName')?.hasError('maxLength')) {
          <mat-error>Field content is too long!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input
            type="text"
            matInput
            placeholder="Last name"
            formControlName="lastName"
            maxlength="100"
            required
          />
          @if (this.registerForm.get('lastName')?.hasError('required')) {
          <mat-error>Field is required!!</mat-error>
          } @if (this.registerForm.get('lastName')?.hasError('maxLength')) {
          <mat-error>Field content is too long!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Username</mat-label>
          <input
            type="text"
            matInput
            placeholder="Username"
            formControlName="username"
            maxlength="45"
            required
          />@if (this.registerForm.get('username')?.hasError('required')) {
          <mat-error>Field is required!!</mat-error>
          } @if (this.registerForm.get('username')?.hasError('manLength')) {
          <mat-error>Field content is too long!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input
            type="password"
            matInput
            placeholder="Password"
            formControlName="password"
            required
            maxlength="255"
          />
          @if (this.registerForm.get('password')?.hasError('required')) {
          <mat-error>Field is required!!</mat-error>
          } @if (this.registerForm.get('password')?.hasError('maxLength')) {
          <mat-error>Field content is too long!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>E-mail</mat-label>
          <input
            type="email"
            matInput
            placeholder="pat@example.com"
            formControlName="mail"
            maxlength="100"
            required
          />
          @if (this.registerForm.get('email')?.hasError('required')) {
          <mat-error>Field is required!!</mat-error>
          } @if (this.registerForm.get('email')?.hasError('maxLength')) {
          <mat-error>Field content is too long!</mat-error>
          } @if (this.registerForm.get('email')?.hasError('email')) {
          <mat-error>Email format expected!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Card</mat-label>
          <input
            type="text"
            matInput
            placeholder="Card"
            formControlName="card"
            required="false"
          />@if (this.registerForm.get('card')?.hasError('maxLength')) {
          <mat-error>Field content is too long!</mat-error>
          }@if (this.registerForm.get('email')?.hasError('minLength')) {
          <mat-error>Field content is too short!</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>City</mat-label>
          <input
            type="text"
            matInput
            placeholder="City"
            formControlName="city"
            maxlength="100"
            required
          />
        </mat-form-field>
        <br />
        <mat-label>Avatar</mat-label>
        <br>

        <div class="text-center">
          <input class="form-control" type="file" (change)="onChange($event)" />
  
          <!-- <button (click)="onUpload($event)" class="btn btn-success">Upload</button> -->
        </div>
  
        <div class="container text-center jumbotron" *ngIf="shortLink">
          <h2>Visit Here</h2>
          <a href="{{ shortLink }}">{{ shortLink }}</a>
        </div>
        <br><br>
        <div class="link">
          <a routerLink="../login" class="login-link">
            Already have an account? &nbsp;<strong> Log in</strong></a
          >
        </div>
        <br />
        <div class="button">
          <button type="submit" mat-fab extended color="primary">
            Register
          </button>
        </div>
      </form>
      
    </mat-card-content>
  </mat-card>
</div>
